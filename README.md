# Практическая работа №1. Шпаргалка на тему "Всё, что уже знаю!"

## 0. Пару слов про Git и GitHub.

Система контроля версий - это программное обеспечение, которое помогает отслеживать изменения в программах, 
текстовых файлах, больших документах, веб-сайтах и так далее. 

**Git** (_Global Information Tracker_) - наиболее распространенное в мире ПО среди систем контроля версий.
Некоторые примеры использования Git
- Синхронизация изменений файлов, созданных разными участниками команды
- Хранение истории изменений файлов при командной работе
- Хранение нескольких версий проекта, над которым работает один человек

**GitHub** - одна из популярных платформ для хранения IT-проектов и совместной работы над ними с использованием Git. 
По сути, это сайт, куда можно загрузить файлы своего проекта для обмена с другими людьми.

## 1. Приложение Git Bash. Основные команды.

В повседневной работе большинство пользователей Git используют консоли с наборами команд, похожие на те, 
что применяют в macOS и Linux. В случае использования ОС Windows необходимо установить специальный консольный
инструмент, который называется Git Bash. В нем используются все те же базовые команды.
Вот часть списка этих команд:
- `pwd` (_print working directory_) - выводит путь к текущей папке, 
- `ls` (_list directory contents_) - выводит содержимое текущей папки,
добавление флага `-a` приводит к выводу всех скрытых файлов и папок,
- `cd` (_change directory_) - выполняет переход в указанную папку,
- `touch` (_без комментариев_) - создает файл,
- `mkdir` (_make directory_) - создает папку,
добавление флага `-p` позволяет создать несколько папок, вложенных друг в друга,
- `cp` (_copy_) - копирует файлы(папки) из текущей папки в другую, в качестве аргументов передаются 
имя файла(папки) и путь для копирования,
- `mv` (_move_) - перемещает файлы(папки) из текущей папки в другую, в качестве аргументов передаются 
имя файла(папки) и путь для перемещения,
- `cat` (_concatenate and print_) - выводит содержимое файла в консоль, 
в качестве аргументов передается путь к файлу,
- `rm` (_remove_) - удаляет файл, в качестве аргументов передается путь к файлу,
добавление флага `-r` приводит к рекурсивному удалению всех файлов и подпапок с файлами
- `rmdir` (_remove directory_) - удаляет пустую папку, в качестве аргументов передается путь к папке

В примере указаны лишь единичные примеры флагов для команд. Чтобы узнать все флаги, введите в консоль:

```
"название команды" --help
```
В дальнейшем через приложение Git Bash будет выполнятся взаимодействие между пользователем 
и системой контроля версий (сам Git).

При работе с Git потребуется указать свои имя пользователя и электронную почту.
Это необходимо для того, чтобы в случае командной работы другим участникам было понятно, кто какие изменения вносил. 
Для этого требуется выполнить следующие команды с указанием персональных данных

```
git config --global user.name "User Userovich"
git config --global user.email user@userovich.by
```  

## 2. Создание локального репозитория. Выполнение коммита. Основные команды.

Чтобы Git начал отслеживать изменения в проекте, папку с файлами этого проекта нужно сделать Git-репозиторием
(далее - репозиторий). 
Для этого необходимо переместиться в папку с необходимым содержимым и выполнить команду `git init`.
При этом внутри появится служебная папка `.git`, хранящая всю необходимую информацию.
Для того, чтобы "разгитить" папку, необходимо перейти в нее и выполнить команду 

```
rm -rf .git
```

Для отслеживания изменений в репозитории используется команда `git status`.
Через нее можно определить, какие файлы участвуют или вовсе не участвуют в сохранении,
а также наличие изменений в файлах с предыдущего сохранения. 

Далее следует обозначить все измененные(новые) файлы и папки, которые необходимо сохранить.
Это выполняется при помощи команды 

```
git add "имя файла(папки)"
```
В случае сохранения всех имеющихся файлов(папок) в репозитории можно воспользоваться командами
`git add --all` или `git add .`.

Для контрольного сохранения обозначенных фалов используется команда 

```
git commit -m "комментарий"
```
Коммит гарантирует, что изменения будут сохранены в истории и при необходимости к ним можно будет «откатиться».
Комментрарий в коммите улучшает понимание и упрощает навигацию при дальнейшей работе.

Для просмотра истории коммитов используется команда `git log`.
При выводе истории для каждого выполненного коммита будет выводиться информация о
- идентификаторе коммита
- пользователе, выполнившем коммит
- дате и времени, когда коммит был выполнен

## 3. Генерация SSH-ключей. Создание удаленного репозитория. Основные команды.

Чтобы упростить работу с GitHub и сделать ее более безопасной, необходимо сгенерировать SSH-ключ.

**SSH** - наиболее распространенный сетевой криптопротокол, использующий в качестве ключа пару чисел 
(приватный и публичный ключи). Публичный ключ доступен всем и используется для шифрования данных.
Приватный ключ предназначен для расшифрования данных и хранится только у пользователя на компьютере.
Передавать кому-либо приватный ключ категорически запрещено!

По умолчанию директория с SSH-ключами находится в домашней директории пользователя.
Проверить их наличие можно с помощью команды 

```
ls -la ~/.ssh/
```
Данная команда выведет список содержимого папки `.ssh`, если такая существует.
Если есть файлы с похожими названиями, SSH-ключи уже создавались:
- `id_dsa.pub`
- `id_ecdsa.pub`
- `id_ed25519.pub`
- `id_rsa.pub`
Если вы не создавали эти файлы, удалите их все.

Для генерации SSH-ключа
- введите в Git Bash команду 

```
ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
```
(если имеется сообщение об ошибке, то, скорее всего, система не поддерживает алгоритм шифрования `ed25519`,
альтернативным вариантом будет следующая строка) 

```
ssh-keygen -t rsa -b 4096 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
```
- укажите место хранения ключей (для сохранения в папку по умолчанию нажмите `Enter`).
- введите кодовую фразу для доступа к ключу (придется вводить потом ее каждый раз при установке соединения
с удаленным репозиторием, можно от нее отказаться, нажав `Enter`)
- убедитесь в создании ключевой пары через команду 

```
ls -a ~/.ssh 
```
(если вы сохраняли в папку не по умолчанию, вместо символа `~` введите путь к папке)
В случае успешной генерации появятся 2 файла. Один файл без расширения (приватный), 
другой - с расширением `.pub` (публичный).
Сохраните содержимое файла с расширением .pub (публичный ключ), оно потребуется далее.
Не перепутайте с приватным ключом при копировании!

Инструкция по созданию удаленного репозитория на GitHub:
- если вы не зарегистрированы, зарегистрируйтесь [на сайте](https://github.com "github.com"),
- зайдите в свой профиль по ссылке `https://github.com/username`, где `username` - имя,
которое вы указали при регистрации,
- создайте удаленный репозиторий, перейдя по вкладкам `Repositories -> New`,
- в открывшемся окне создания нового репозитория введите его название,
оно не обязано совпадать с именем папки проекта у вас на компьютере,
- для создания удаленного репозитория нажмите `Create repository` внизу,
- выберите пункт `Settings` в меню аккаунта, в меню слева нажмите на пункт `SSH and GPG keys`, 
в открывшейся вкладке выберите `New SSH key`,
- в поле `Title` напишите название ключа, в поле `Key type` должно быть `Authentication Key`, 
в поле `Key` скопируйте ваш публичный ключ SSH, нажмите на кнопку `Add SSH key`,
- проверьте правильность ключа с помощью команды,

```
ssh -T git@github.com
```
в приложении Git Bash.

Если это первый раз, когда вы используете Git, чтобы поделиться проектом на GitHub, появится похожее предупреждение.

```
The authenticity of host 'github.com (140.82.121.4)' can't be established. 
ED25519 key fingerprint is SHA256:"некоторая последовательность символов"
This key is not known by any other names. Are you sure you want to continue connecting (yes/no/[fingerprint])?
```
Это предупреждение сообщает, что вы никогда не соединялись с сервером GitHub. 
Поэтому Git не может гарантировать, что сервер является тем, за кого он себя выдаёт.
Для подтверждения подлинности сервер генерирует и публикует ключи `SHA256`. 
Вы можете проверить ключи GitHub 
[по этой ссылке](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/githubs-ssh-key-fingerprints "Это ссылка ;)").
Если ключ в предупреждении совпадает с тем, что вы видите на сайте, значит, сервер является действительным. 
Введите yes, чтобы продолжить. Вы увидите приветствие на экране.

```
Hi %ВАШ_АККАУНТ%! You've successfully authenticated, but GitHub does not provide shell access.
```

## 4. Синхронизация локального и удаленного репозиториев. Основные команды.

Для начала требуется связать репозитории.
Перейдите на страницу удалённого репозитория, выберите тип `SSH` (справа от типа `HTTPS`) и скопируйте `URL`.
Откройте консоль, перейдите в каталог локального репозитория и введите команду 

```
git remote add origin git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ_ПРОЕКТА%.git
```,
где `origin` - имя удаленного репозитория, а следующее за ним последовательность - скопированный `URL`. 
Осталось убедиться, что репозитории связаны. 
Сделать это можно с помощью команды 

```
git remote -v
```
в приложении Git Bash. 

В случае успеха вывод должен быть следующим

```
git remote -v
origin    git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ-ПРОЕКТА%.git (fetch)
origin    git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ-ПРОЕКТА%.git (push)
```
Под синхронизацией понимается возможность загружать на (или скачивать из) удаленный репозиторий конкретный коммит.
Для загрузки изменений на удаленный репозиторий необходимо ввести команду 

```
git push
```
В первый раз эту команду нужно вызывать с дополнительными флагами и параметрами

```
git push -u origin main
```
Если произошла ошибка, замените `main` на `master`.
При взаимодействии с удалёнными репозиториями Git выводит в консоль отладочную информацию: 
количество объектов (файлов), которые отправляются на сервер, информацию о прогрессе сжатия и записи и так далее.
В дальнейшем при работе с удалённым репозиторием флаг `-u` можно опустить и писать просто `git push`.

Для понимания, каждый коммит сохраняет актуальное состояние файлов. Сами же коммиты хранятся в ветках.
Если коммит — это снимок состояния файлов, то ветка — временна́я шкала, на которой расположены эти снимки. 
Ветка всегда начинается от одного из коммитов.
В репозитории может существовать сразу несколько веток — параллельных историй изменений. 
Также они могут соединяться друг с другом.

Спасибо, что дочитали конспект до конца!

С уважением, headshotered =)

Meow!